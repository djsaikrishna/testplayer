var BASE_URL=window.location.protocol+"//"+window.location.host,DATA_TO_SAVE=["source","gifmode","autoplay","autopause","muted","width","height","url","poster","time","progressBar","overlay","muteButton","fullscreenButton","style","quality","playButton","responsiveSize","advancedButton","buttonColor","buttonSize","advancedOverlay","overlayColor","overlayOpacityPercent","advancedShadow","shadowX","shadowY","shadowBlur","shadowSpread","advancedStroke","strokeColor","strokeSize"],helpers={closeCookieBanner:function(){document.getElementById("cookie-banner").style.display="none",this.save("cookie-banner-closed",1)},showCookieBanner:function(){this.load("cookie-banner-closed")||(document.getElementById("cookie-banner").style.display="block")},save:function(t,e){localStorage.setItem(t,JSON.stringify(e))},load:function(t){return JSON.parse(localStorage.getItem(t))},loadSavedData:function(o){var i=this;DATA_TO_SAVE.forEach(function(t){var e=i.load(t);null!==e&&(o[t]=e)})},watchDataToSave:function(o){DATA_TO_SAVE.forEach(function(e){o.$watch(e,function(t){o.save(e,t)})})},getVideoDirectLink:function(t){if(!this.isValidUrl(t))throw{message:"Please enter valid URL "};if(this.isDropboxUrl(t)){if(!this.isValidDropboxLink(t))throw{message:'You entered wrong Dropbox link. Please select file in Dropbox and click "Share" to get correct link'};return this.fixDropboxUrl(t)}if(this.isGoogleDriveUrl(t)){if(this.isGoogleDriveSharedLink(t))return this.fixGoogleDriveUrl(t);if(this.isGoogleDriveFileUrl(t))return t;throw{message:'You entered wrong Google Drive link. Please select file in your Google Drive and click "Share" -> "Get shareable link" ("can view" permission) to get correct link'}}return t},isValidUrl:function(t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},isRestrictedUrl:function(t){},isDropboxUrl:function(t){return-1<t.indexOf("https://www.dropbox.com")},isValidDropboxLink:function(t){return t.match(/www.dropbox.com\/s\/.+\/.+?dl=/)},fixDropboxUrl:function(t){return t.replace("dl=0","raw=1")},isGoogleDriveUrl:function(t){return-1<t.indexOf("https://drive.google.com")},isGoogleDriveSharedLink:function(t){return t.match(/drive\.google\.com\/file\/d\/(.+)\/view/)},isGoogleDriveFileUrl:function(t){return t.match(/drive\.google\.com\/uc\?authuser=0&id=(.+)&export=download/)},fixGoogleDriveUrl:function(t){return"https://drive.google.com/uc?authuser=0&id="+this.isGoogleDriveSharedLink(t)[1]+"&export=download"},serialize:function(t){var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return e.join("&")}};Vue.directive("highlightjs",{deep:!0,bind:function(t,e){t.querySelectorAll("code").forEach(function(t){e.value&&(t.textContent=e.value),hljs.highlightBlock(t)})},componentUpdated:function(t,e){t.querySelectorAll("code").forEach(function(t){e.value&&(t.textContent=e.value,hljs.highlightBlock(t))})}}),$(document).ready(function(){helpers.showCookieBanner(),$(".code").click(function(){if(!$(this).hasClass("code--opened")){$(this).selectText(),$(this).addClass("code--opened"),document.execCommand("copy");var t=this;setTimeout(function(){t.blur()},800)}}),$("[data-copy]").click(function(t){t.preventDefault(),$($(this).attr("data-copy")).click()}),$("body").click(function(t){var e=$(t.target);e.is(".textarea")||0!=e.closest(".textarea").length||e.is("[data-copy]")||($(".textarea--opened").removeClass("textarea--opened"),$(".code--opened").removeClass("code--opened"))})}),jQuery.fn.selectText=function(){this.find("input").each(function(){0!=$(this).prev().length&&$(this).prev().hasClass("p_copy")||$('<p class="p_copy" style="position: absolute; z-index: -1;"></p>').insertBefore($(this)),$(this).prev().html($(this).val())});var t=document,e=this[0];if(t.body.createTextRange)(o=document.body.createTextRange()).moveToElementText(e),o.select();else if(window.getSelection){var o,i=window.getSelection();(o=document.createRange()).selectNodeContents(e),i.removeAllRanges(),i.addRange(o)}};BASE_URL=window.location.protocol+"//"+window.location.host,DATA_TO_SAVE=["source","gifmode","autoplay","autopause","loop","muted","width","height","url","poster","time","progressBar","overlay","muteButton","fullscreenButton","style","quality","playButton","responsiveSize","advancedButton","buttonColor","buttonSize","advancedOverlay","overlayColor","overlayOpacityPercent","advancedShadow","shadowX","shadowY","shadowBlur","shadowSpread","advancedStroke","strokeColor","strokeSize"];var app=new Vue({el:"#app",data:{source:"https://vimeo.com/226137389",sourceError:null,posterSourceError:null,loaded:!1,metadata:{width:null,height:null},qualities:{},videoDuration:"00:00",gifmode:!1,playButton:!0,autoplay:!1,loop:!0,autopause:!1,muted:!1,width:null,height:null,url:"",poster:"",time:!0,progressBar:!0,overlay:!0,muteButton:!0,fullscreenButton:!0,style:"light",logo:!0,quality:"auto",stash:{},advancedButton:!1,advancedOverlay:!1,advancedShadow:!1,advancedStroke:!1,responsiveSize:!0,overlayColor:"#000000",overlayOpacityPercent:30,buttonColor:"#ffffff",buttonSize:90,shadowX:10,shadowY:10,shadowBlur:35,shadowSpread:-10,strokeColor:"#000000",strokeSize:1,player:null},mounted:function(){helpers.loadSavedData(this),helpers.watchDataToSave(this),this.runPlayer(),this.$set(this.metadata,"width",null),this.$set(this.metadata,"height",null)},methods:{runPlayer:function(){try{this.url=helpers.getVideoDirectLink(this.source)}catch(t){this.sourceError=t.message}var t=this.playerOptions,e=this.$refs.playerContainer,o=document.getElementById("player-template"),i=document.importNode(o.content,!0);e.appendChild(i);var s=initPlayer(t),a=this;s.onReady(function(){a.loaded=!0,s.getDuration(function(t){a.videoDuration=formatTime(t)}),a.getSizes()}),this.player=s},setVideoSource:function(){if(this.source){this.width=null,this.height=null,this.sourceError=null;this.playerOptions;var t=this.$refs.playerContainer,e=document.getElementById("player-template");document.importNode(e.content,!0);console.log("container",t);var o=t.querySelector(".oneline-wrap");o&&o.remove(),this.runPlayer()}},setPoster:function(){this.posterSourceError=null;try{this.poster=helpers.getVideoDirectLink(this.poster)}catch(t){this.posterSourceError=t.message}poster(this.player,this.poster),this.toggleComponent("poster")},removePoster:function(){this.poster=null,this.posterSourceError=null,this.toggleComponent("poster")},toggleGifMode:function(){this.gifmode?(this.makeStash(),this.overlay=!1,this.autoplay=!0,this.loop=!0,this.autopause=!1,this.muted=!0,this.time=!1,this.progressBar=!1,this.playButton=!1,this.muteButton=!1,this.fullscreenButton=!1,this.player.play()):(this.applyStash(),this.overlay=!0)},toggleResponsive:function(){this.responsiveSize=!this.responsiveSize},getSizes:function(){if(this.player){var e=this,t=this.player;t.getWidth(function(t){e.metadata.width=t,null===e.width&&(e.width=t)}),t.getHeight(function(t){e.metadata.height=t,null===e.height&&(e.height=t)})}},calculateHeight:function(){this.metadata.height&&(this.height=Math.round(this.metadata.height*this.width/this.metadata.width))},calculateWidth:function(){this.metadata.width&&(this.width=Math.round(this.metadata.width*this.height/this.metadata.height))},save:function(t,e){localStorage.setItem(t,JSON.stringify(e))},load:function(t){return JSON.parse(localStorage.getItem(t))},makeStash:function(){this.stash.autoplay=this.autoplay,this.stash.loop=this.loop,this.stash.autopause=this.autopause,this.stash.muted=this.muted,this.stash.time=this.time,this.stash.progressBar=this.progressBar,this.stash.playButton=this.playButton,this.stash.overlay=this.overlay,this.stash.muteButton=this.muteButton,this.stash.fullscreenButton=this.fullscreenButton},applyStash:function(){this.autoplay=this.stash.autoplay,this.loop=this.stash.loop,this.autopause=this.stash.autopause,this.muted=this.stash.muted,this.time=this.stash.time,this.progressBar=this.stash.progressBar,this.playButton=this.stash.playButton,this.overlay=this.stash.overlay,this.muteButton=this.stash.muteButton,this.fullscreenButton=this.stash.fullscreenButton},toggleComponents:function(){this.loaded},toggleComponent:function(t){var e=null,o=this.player;"playButton"===t&&(e=playButton(o,this.playerOptions)),"time"===t&&(e=time(o)),"progressBar"===t&&(e=progressBar(o)),"muteButton"===t&&(e=muteButton(o)),"fullscreenButton"===t&&(e=fullscreenButton(o)),"overlay"===t&&(e=overlay(o,this.playerOptions)),"poster"===t&&(e=poster(o,this.playerOptions.poster)),e&&this.showComponent(e,this[t])},showComponent:function(t,e){t.style.display=e?"block":"none"},reset:function(){this.gifmode=!1,this.autoplay=!1,this.loop=!1,this.autopause=!0,this.muted=!1,this.width=null,this.height=null,this.time=!0,this.progressBar=!0,this.playButton=!0,this.overlay=!0,this.muteButton=!0,this.fullscreenButton=!0,this.logo=!0,this.responsiveSize=!0,this.advancedButton=!1,this.advancedOverlay=!1,this.advancedShadow=!1,this.advancedStroke=!1,this.overlayColor="#000000",this.overlayOpacityPercent=30,this.buttonColor="#ffffff",this.buttonSize=90,this.shadowX=10,this.shadowY=10,this.shadowBlur=35,this.shadowSpread=-10,this.strokeColor="#000000",this.strokeSize=1,this.getSizes()}},computed:{isValidUrl:function(){return helpers.isValidUrl(this.source)},isVimeo:function(){return-1<this.source.indexOf("https://vimeo.com")},isYoutube:function(){return this.source.match(/https:\/\/youtu\.be\/(\w+)/i)||this.source.match(/https:\/\/www\.youtube\.com\/watch\?v=(\w+)/i)},isDropbox:function(){return helpers.isDropboxUrl(this.source)},isGoogleDrive:function(){return helpers.isGoogleDriveUrl(this.source)},isWeb:function(){return!this.isVimeo&&!this.isDropbox&&!this.isGoogleDrive},embed:function(){if(!this.width)return"";var t=document.createElement("iframe");t.setAttribute("frameborder",0),t.setAttribute("allowfullscreen",""),t.setAttribute("scrolling","no"),t.setAttribute("allow","autoplay;fullscreen"),this.responsiveSize||(t.setAttribute("width",this.width),t.setAttribute("height",this.height)),this.responsiveSize&&(t.style.position="absolute",t.style.height="100%",t.style.width="100%",t.style.left="0",t.style.top="0"),t.src="[[src]]";var e=t.outerHTML;if(this.responsiveSize){var o=this.metadata.height,i=this.metadata.width,s=this.advancedStroke?(100*parseInt(this.strokeSize)/this.$refs.playerContainer.offsetWidth).toPrecision(4):0,a=(o/i*100).toPrecision(4);s&&(a-=s);var n=document.createElement("div");n.style.paddingTop=a+"%",n.style.position="relative",n.style.overflow="hidden",this.advancedShadow&&(n.style.boxShadow=this.shadow),this.advancedStroke&&(n.style.border=this.stroke),n.appendChild(t),e=n.outerHTML}else this.advancedShadow&&(t.style.boxShadow=this.shadow),this.advancedStroke&&(t.style.border=this.stroke);return e.replace("[[src]]",this.playerSrc)},playerSrc:function(){var t=helpers.serialize(this.playerOptions);return BASE_URL+"/player.html?"+t},hasQualities:function(){return Object.keys(this.qualities).length},overlayOpacity:function(){return this.overlayOpacityPercent/100},shadow:function(){if(this.advancedShadow)return this.shadowX+"px "+this.shadowY+"px "+this.shadowBlur+"px "+this.shadowSpread+"px #333333"},stroke:function(){if(this.advancedStroke)return this.strokeSize+"px solid "+this.strokeColor},playerOptions:function(){var t={autoplay:this.autoplay,autopause:this.autopause,muted:this.muted,loop:this.loop,url:this.url,poster:this.poster,time:this.time,progressBar:this.progressBar,overlay:this.overlay,muteButton:this.muteButton,fullscreenButton:this.fullscreenButton,style:this.style,quality:this.quality,playButton:this.playButton};return this.advancedButton&&(t.buttonColor=this.buttonColor,t.buttonSize=this.buttonSize),this.advancedOverlay&&(t.overlayColor=this.overlayColor,t.overlayOpacity=this.overlayOpacity),t}},watch:{autoplay:function(t){t&&(this.muted=!0)},gifmode:function(t){this.toggleGifMode()},loop:function(t){this.player.setLoop(t)},muted:function(t){t?this.player.mute():(this.player.unmute(),this.autoplay&&(this.autoplay=!1))},poster:function(t){component=poster(this.player,t),this.showComponent(component,t)},overlay:function(t){component=overlay(this.player,this.playerOptions),this.showComponent(component,t)},style:function(t){playerStyle(t)},playButton:function(t){component=playButton(this.player,this.playerOptions),this.showComponent(component,t)},time:function(t){component=time(this.player),this.showComponent(component,t)},progressBar:function(t){component=progressBar(this.player),this.showComponent(component,t)},muteButton:function(t){component=muteButton(this.player),this.showComponent(component,t)},fullscreenButton:function(t){component=fullscreenButton(this.player),this.showComponent(component,t)},advancedButton:function(t){playButton(this.player,this.playerOptions)},buttonColor:function(t){playButton(this.player,this.playerOptions)},buttonSize:function(t){playButton(this.player,this.playerOptions)},advancedOverlay:function(t){overlay(this.player,this.playerOptions)},overlayColor:function(t){overlay(this.player,this.playerOptions)},overlayOpacityPercent:function(t){overlay(this.player,this.playerOptions)}}});$(function(){$(".tabs-thumb:first-child").addClass("is-active").closest(".tabs").find(".tabs-panel:first-child").show(),$(".tabs-thumb").click(function(){$(this).siblings(".tabs-thumb").removeClass("is-active").closest(".tabs").find(".tabs-panel").hide(),$(this).addClass("is-active").closest(".tabs").find(".tabs-panel").eq($(this).index(".tabs-thumb")).show()}),$(".tabs-thumb a").click(function(){var t=$(this).parent().position(),e=$(this).parent().width();$(".slide").css({left:+t.left,width:e})}).eq(0).click(),$(".previewWrap").sticky("update")}),$(function(){$(".accordion > li:eq(0) a").next().slideUp(),$(".accordion a").click(function(t){var e=$(this).closest("li").find(".accordion__container");$(this).closest(".accordion").find(".accordion-container").not(e).slideUp(),$(this).hasClass("active")?$(this).removeClass("active"):($(this).closest(".accordion").find("a.active").removeClass("active"),$(this).addClass("active")),e.stop(!1,!0).slideToggle(),t.preventDefault()})}),$(".open-popup").click(function(t){t.preventDefault(),0==$(window).scrollTop()?($(".about-page").addClass("about-page--active"),$("body > .container").addClass("container--hide"),$("body").addClass("overflow")):$("html, body").stop().animate({scrollTop:0},200,function(){$(".about-page").addClass("about-page--active"),$("body > .container").addClass("container--hide")}),$("body").addClass("overflow")}),$(".about-page").click(function(t){var e=$(t.target);e.is("a")||e.is("button")||($(this).removeClass("about-page--active"),$("body").removeClass("overflow"),$(".container").removeClass("container--hide"))}),$(function(){$(".toggle-switch[role='player_style'] input").each(function(){if(this.checked){var t=$(this).parent().position(),e=$(this).parent().width();$(".toggle-slider").css({left:+t.left,width:e})}})}),$(".toggle-switch span").click(function(){var t=$(this).parent().position(),e=$(this).parent().width();$(".toggle-slider").css({left:+t.left,width:e})}),$('.list__item input[type="text"],.list__item input[type="tel"]').on("input",function(){$(this).closest(".list__item").find('input[type="checkbox"]').prop("checked",!0)});